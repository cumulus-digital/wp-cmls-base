!function(){"use strict";var t={};function e(t,e,a,i,n,o,r){try{var s=t[o](r),l=s.value}catch(t){return void a(t)}s.done?e(l):Promise.resolve(l).then(i,n)}t.n=function(e){var a=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(a,{a:a}),a},t.d=function(e,a){for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var a,i,n=window.regeneratorRuntime,o=t.n(n),r=window.jQuery,s=t.n(r),l=window.lodash,c=window.wp.element;a=wp.blocks.registerBlockType,i={backgroundColor:"#DDD",borderRadius:"3px",boxShadow:"0 1px 2px RGBA(0,0,0,0.3)",color:"#888",padding:"8px",textAlign:"center",fontWeight:300},a("cumulus-gutenberg/anchor",{title:"Anchor",icon:{src:"admin-links",foreground:"#3399cc"},category:"layout",supports:{anchor:!0},edit:function(t){var e=t.attributes.anchor;return(0,c.createElement)("div",{style:i,title:"Anchor"},"ðŸ”—ï¸Ž",e&&(0,c.createElement)("em",null,e))},save:function(){return(0,c.createElement)("div",{class:"cmls-anchor"})}});var d=wp.hooks.addFilter,p=wp.compose.createHigherOrderComponent,u=wp.components,f=u.Panel,_=u.PanelBody,b=u.SelectControl,v=wp.blockEditor.InspectorControls,h=wp.data.useSelect,g=["core/post-terms"];d("editor.BlockEdit","cmls/block-extentions/post-types",p((function(t){return function(e){var a=e.attributes,i=e.setAttributes,n=(e.context,e.isSelected);if(!g.includes(e.name))return(0,c.createElement)(t,e);var o=h((function(t){var e=t("core/editor").getCurrentPostType(),n=t("core").getTaxonomies({type:e,context:"view",per_page:-1});if(n&&n.length){var o=!1,r=n.map((function(t){return t.slug===a.term&&(o=!0),{label:t.name,value:t.slug}}));return o||i({term:r[0].value}),{availableTerms:r}}return{availableTerms:[{label:"No terms available."}]}})).availableTerms;return(0,c.createElement)(c.Fragment,null,(0,c.createElement)(t,e),n&&(0,c.createElement)(v,null,(0,c.createElement)(f,null,(0,c.createElement)(_,{title:"Taxonomy"},(0,c.createElement)(b,{label:"Taxonomy Type",value:a.term,options:o,onChange:function(t){return i({term:t})},help:"Only taxonomies associated with the current post type are available."})))))}}),"withTaxTypeSelector")),function(t,a,i){function n(){function i(e){return t(a.document.body).add(t('iframe[name="editor-canvas"]').contents().find("body"))}var n;(n='.edit-post-post-status .components-panel__row:contains("Stick to")',new Promise((function(e){var a=t(n);if(a.length)e(a);else{var i=new MutationObserver((function(a){a.forEach((function(a){if(a.addedNodes){var o=t(a.addedNodes).find(n);o.length&&(e(o),i.disconnect())}}))}));i.observe(document.body,{childList:!0,subtree:!0}),setTimeout((function(){i.disconnect()}),12e4)}}))).then((function(e){return t(e).hide()}));var r=t("#acf-group_5f467bc4cb553");if(r.length){var s=function(e){var a,i;switch(e.type){case"checkbox":e.val=t(e.acf).is(":checked");break;case"em":e.val=parseFloat(e.val)+"em";break;case"string":e.val=t("<div>").text(e.val).html();break;case"integer":case"int":e.val=parseInt(e.val);break;case"float":e.val=parseFloat(e.val);break;case"file":if(null!==(a=wp.api)&&void 0!==a&&null!==(i=a.models)&&void 0!==i&&i.Media&&e.val&&e.val.toString().length){var n=new wp.api.models.Media({id:e.val});return e.val=n.fetch(),new Promise((function(t){n.fetch().then((function(a){var i,n,o;null!==(i=a.media_details)&&void 0!==i&&null!==(n=i.sizes)&&void 0!==n&&null!==(o=n.full)&&void 0!==o&&o.source_url&&(e.val='url("'.concat(a.media_details.sizes.full.source_url,'")')),t(e)}))}))}}return new Promise((function(t){t(e)}))},c=function(){var a,n=(a=o().mark((function e(){var a,n,r,c,p,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a={},e.t0=o().keys(d);case 2:if((e.t1=e.t0()).done){e.next=16;break}return n=e.t1.value,r=d[n],c=t(r.acf),r.val=c.val(),e.next=9,s(r);case 9:if("function"!=typeof(r=e.sent).action){e.next=13;break}return r.action(r.val),e.abrupt("continue",2);case 13:a[n]=r,e.next=2;break;case 16:p=(0,l.filter)(a,(function(t){if(t.triggersHasBackground&&t.val&&t.val.toString().length)return t})),p.length?i().addClass("has-header-background"):i().removeClass("has-header-background"),u={},(0,l.map)(a,(function(t){"setCssVar"===t.action&&(u["--page_title-".concat(t.key)]=t.val.toString())})),Object.keys(u).length&&i().css(u);case 21:case"end":return e.stop()}}),e)})),function(){var t=this,i=arguments;return new Promise((function(n,o){var r=a.apply(t,i);function s(t){e(r,n,o,s,l,"next",t)}function l(t){e(r,n,o,s,l,"throw",t)}s(void 0)}))});return function(){return n.apply(this,arguments)}}();i().append("\n\t\t\t\t<style id=\"cmls-acf_post_title\">\n\t\t\t\t\t#sticky-span { display: none !important; }\n\t\t\t\t\t.edit-post-visual-editor__post-title-wrapper {\n\t\t\t\t\t\ttransition-property: opacity;\n\t\t\t\t\t\ttransition-duration: .5s;\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\tcolor: var(--page_title-title_color);\n\t\t\t\t\t}\n\t\t\t\t\t.has-header-background .edit-post-visual-editor__post-title-wrapper {\n\t\t\t\t\t\tbackground-image: var(--page_title-background_image);\n\t\t\t\t\t\tbackground-color: var(--page_title-background_color);\n\t\t\t\t\t\tbackground-position: var(--page_title-background_position);\n\t\t\t\t\t\tbackground-repeat: var(--page_title-background_repeat);\n\t\t\t\t\t\tbackground-size: var(--page_title-background_size);\n\t\t\t\t\t\tmargin-bottom: var(--page_title-margin_below_header);\n\t\t\t\t\t\tmargin-top: 0;\n\t\t\t\t\t\tpadding-top: 3em;\n\t\t\t\t\t\tpadding-bottom: 3em;\n\t\t\t\t\t}\n\t\t\t\t\t\t.has-header-background .edit-post-visual-editor__post-title-wrapper .editor-post-title__input {\n\t\t\t\t\t\t\ttext-shadow: 0.05em 0.05em 0.15em rgba(0, 0, 0, var(--page_title-title_shadow_opacity));\n\t\t\t\t\t\t}\n\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper::before,\n\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper::before {\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\t/*background: rgba(0, 0, 0, 0.75);*/\n\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\tfont-size: 1em;\n\t\t\t\t\t\tline-height: 1;\n\t\t\t\t\t\t/*text-shadow: 1px 1px 1px #000;*/\n\t\t\t\t\t\tpadding: .5rem;\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t}\n\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper::before {\n\t\t\t\t\t\tcontent: 'ðŸ¥¸';\n\t\t\t\t\t}\n\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper::before {\n\t\t\t\t\t\tcontent: 'ðŸ¤«';\n\t\t\t\t\t}\n\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input,\n\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input {\n\t\t\t\t\t\tbackground-color: rgba(0,0,0,0.07);\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\topacity: 0.5;\n\t\t\t\t\t}\n\t\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:hover,\n\t\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:focus,\n\t\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:focus-within,\n\t\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:hover,\n\t\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:focus,\n\t\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:focus-within {\n\t\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t");var d={"#acf-field_5f467c3c135f3":{key:"title-hidden",type:"checkbox",acf:"#acf-field_5f467c3c135f3",action:function(t){if(t)return i().addClass("has-hidden-post-title"),void a.wp.data.dispatch("core/notices").createNotice("info","ðŸ¤« This post's title is hidden",{isDismissible:!1,id:"has-hidden-post-title"});a.wp.data.dispatch("core/notices").removeNotice("has-hidden-post-title"),i().removeClass("has-hidden-post-title")}},"#acf-field_5f46f4d6962ca":{key:"title-alt",type:"string",acf:"#acf-field_5f46f4d6962ca",action:function(t){if(t&&t.toString().length)return i().addClass("has-alt-title"),void a.wp.data.dispatch("core/notices").createNotice("info","ðŸ¥¸ This post uses an alternate display title",{isDismissible:!1,id:"has-alt-title"});a.wp.data.dispatch("core/notices").removeNotice("has-alt-title"),i().removeClass("has-alt-title")}},"acf[field_6140e29b2c51a][field_6140e2cb5b633]":{key:"background_color",type:"string",acf:'input[name="acf[field_6140e29b2c51a][field_6140e2cb5b633]"]',action:"setCssVar",triggersHasBackground:!0},"acf[field_6140e29b2c51a][field_6140e3aa5b638]":{key:"title_color",type:"string",acf:'input[name="acf[field_6140e29b2c51a][field_6140e3aa5b638]"]',action:"setCssVar"},"acf[field_6140e29b2c51a][field_6140e95fd3f2a]":{key:"margin_below_header",type:"em",acf:'input[name="acf[field_6140e29b2c51a][field_6140e95fd3f2a]"]',action:"setCssVar"},"acf[field_6140e29b2c51a][field_6140e3d15b639]":{key:"title_shadow_opacity",type:"float",acf:'input[name="acf[field_6140e29b2c51a][field_6140e3d15b639]"]',action:"setCssVar"},"acf[field_6140e29b2c51a][field_6140e2ef5b634]":{key:"background_image",type:"file",acf:'input[name="acf[field_6140e29b2c51a][field_6140e2ef5b634]"]',action:"setCssVar",triggersHasBackground:!0},"acf[field_6140e29b2c51a][field_6140e31c5b635]":{key:"background_size",type:"string",acf:'input[name="acf[field_6140e29b2c51a][field_6140e31c5b635]"]',action:"setCssVar"},"acf[field_6140e29b2c51a][field_6140e3455b636]":{key:"background_position",type:"string",acf:'input[name="acf[field_6140e29b2c51a][field_6140e3455b636]"]',action:"setCssVar"},"acf[field_6140e29b2c51a][field_6140e38b5b637]":{key:"background_repeat",type:"string",acf:'input[name="acf[field_6140e29b2c51a][field_6140e38b5b637]"]',action:"setCssVar"}};r.on("change.".concat(a.THEME_PREFIX," keyup.").concat(a.THEME_PREFIX),(0,l.map)(d,"acf").join(","),(0,l.debounce)(c,200,{trailing:!0})),c(),t(a).on("load",c)}}void 0!==a.wp&&void 0!==a.wp.blocks&&(a._wpLoadBlockEditor?a._wpLoadBlockEditor.then(n):t(n))}(s().noConflict(),window.self)}();