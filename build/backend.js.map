{"version":3,"file":"backend.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;;AAEA,CAAC,UAAUK,CAAV,EAAaC,MAAb,EAAqBC,SAArB,EAAgC;AAAA;;AAChC;AACA,MAAI,EAACD,MAAD,aAACA,MAAD,6BAACA,MAAM,CAAEE,EAAT,uCAAC,WAAYC,MAAb,CAAJ,EAAyB;AACxB;AACA;;AAEDN,EAAAA,8CAAM,CAAC,CAACC,2DAAD,CAAD,CAAN;;AAEA,WAASM,WAAT,GAAuB;AACtB,aAASC,UAAT,CAAoBC,IAApB,EAA0B;AACzB,aAAOP,CAAC,CAACC,MAAM,CAACO,QAAP,CAAgBC,IAAjB,CAAD,CAAwBC,GAAxB,CACNV,CAAC,CAAC,8BAAD,CAAD,CAAkCW,QAAlC,GAA6CC,IAA7C,CAAkD,MAAlD,CADM,CAAP;AAGA,KALqB,CAOtB;;;AACA,QAAMC,SAAS,GAAGb,CAAC,CAAC,0BAAD,CAAnB;;AACA,QAAIa,SAAS,CAACC,MAAd,EAAsB;AAAA,UA8KZC,qBA9KY,GA8KrB,SAASA,qBAAT,CAA+BC,GAA/B,EAAoC;AAAA;;AACnC,gBAAQA,GAAG,CAACC,IAAZ;AACC,eAAK,UAAL;AACCD,YAAAA,GAAG,CAACE,GAAJ,GAAUlB,CAAC,CAACgB,GAAG,CAACG,GAAL,CAAD,CAAWC,EAAX,CAAc,UAAd,CAAV;AACA;;AACD,eAAK,IAAL;AACCJ,YAAAA,GAAG,CAACE,GAAJ,GAAUG,UAAU,CAACL,GAAG,CAACE,GAAL,CAAV,GAAsB,IAAhC;AACA;;AACD,eAAK,KAAL;AACCF,YAAAA,GAAG,CAACE,GAAJ,GAAUG,UAAU,CAACL,GAAG,CAACE,GAAL,CAAV,GAAsB,KAAhC;AACA;;AACD,eAAK,QAAL;AACCF,YAAAA,GAAG,CAACE,GAAJ,GAAUlB,CAAC,CAAC,OAAD,CAAD,CAAWsB,IAAX,CAAgBN,GAAG,CAACE,GAApB,EAAyBK,IAAzB,EAAV;AACA;;AACD,eAAK,SAAL;AACA,eAAK,KAAL;AACCP,YAAAA,GAAG,CAACE,GAAJ,GAAUM,QAAQ,CAACR,GAAG,CAACE,GAAL,CAAlB;AACA;;AACD,eAAK,OAAL;AACCF,YAAAA,GAAG,CAACE,GAAJ,GAAUG,UAAU,CAACL,GAAG,CAACE,GAAL,CAApB;AACA;;AACD,eAAK,MAAL;AACC,gBACC,WAAAf,EAAE,CAACsB,GAAH,8DAAQC,MAAR,0DAAgBC,KAAhB,IACAX,GAAG,CAACE,GADJ,IAEAF,GAAG,CAACE,GAAJ,CAAQU,QAAR,GAAmBd,MAHpB,EAIE;AACD,kBAAIe,KAAK,GAAG,IAAI1B,EAAE,CAACsB,GAAH,CAAOC,MAAP,CAAcC,KAAlB,CAAwB;AACnCG,gBAAAA,EAAE,EAAEd,GAAG,CAACE;AAD2B,eAAxB,CAAZ;AAGAF,cAAAA,GAAG,CAACE,GAAJ,GAAUW,KAAK,CAACE,KAAN,EAAV;AACA,qBAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC/BJ,gBAAAA,KAAK,CAACE,KAAN,GAAcG,IAAd,CAAmB,UAACL,KAAD,EAAW;AAAA;;AAC7B,8CACCA,KAAK,CAACM,aADP,0EACC,qBAAqBC,KADtB,4EACC,sBAA4BC,IAD7B,mDACC,uBACGC,UAFJ,EAGE;AACDtB,oBAAAA,GAAG,CAACE,GAAJ,mBAAkBW,KAAK,CAACM,aAAN,CAAoBC,KAApB,CAA0BC,IAA1B,CAA+BC,UAAjD;AACA;;AACDL,kBAAAA,OAAO,CAACjB,GAAD,CAAP;AACA,iBARD;AASA,eAVM,CAAP;AAWA;;AACD;AA1CF;;AA6CA,eAAO,IAAIgB,OAAJ,CAAY,UAACC,OAAD,EAAa;AAC/BA,UAAAA,OAAO,CAACjB,GAAD,CAAP;AACA,SAFM,CAAP;AAGA,OA/NoB;;AAAA,UAiONuB,mBAjOM;AAAA,4LAiOrB;AAAA;AAAA;AAAA;AAAA;AAAA;AACKC,kBAAAA,IADL,GACY,EADZ;AAAA,uGAEeC,sBAFf;;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEUC,kBAAAA,CAFV;AAGM1B,kBAAAA,GAHN,GAGYyB,sBAAsB,CAACC,CAAD,CAHlC;AAIMC,kBAAAA,MAJN,GAIe3C,CAAC,CAACgB,GAAG,CAACG,GAAL,CAJhB;AAKEH,kBAAAA,GAAG,CAACE,GAAJ,GAAUyB,MAAM,CAACzB,GAAP,EAAV;AALF;AAAA,yBAOcH,qBAAqB,CAACC,GAAD,CAPnC;;AAAA;AAOEA,kBAAAA,GAPF;;AAAA,wBASM,OAAOA,GAAG,CAAC4B,MAAX,KAAsB,UAT5B;AAAA;AAAA;AAAA;;AAUG5B,kBAAAA,GAAG,CAAC4B,MAAJ,CAAW5B,GAAG,CAACE,GAAf;AAVH;;AAAA;AAaEsB,kBAAAA,IAAI,CAACE,CAAD,CAAJ,GAAU1B,GAAV;AAbF;AAAA;;AAAA;AAgBO6B,kBAAAA,kBAhBP,GAgB4B,EAhB5B;AAiBOC,kBAAAA,qBAjBP,GAiB+B,EAjB/B;AAkBOC,kBAAAA,MAlBP,GAkBgB,EAlBhB;AAmBCC,kBAAAA,MAAM,CAACC,MAAP,CAAcT,IAAd,EAAoBU,OAApB,CAA4B,UAAClC,GAAD,EAAS;AACpC,wBAAIA,GAAG,CAACE,GAAJ,IAAWF,GAAG,CAACE,GAAJ,CAAQU,QAAR,GAAmBd,MAAlC,EAA0C;AACzC,0BAAIE,GAAG,CAACmC,qBAAR,EAA+B;AAC9BN,wBAAAA,kBAAkB,CAACO,IAAnB,CAAwBpC,GAAxB;AACA;;AACD,0BAAIA,GAAG,CAACqC,oBAAR,EAA8B;AAC7BP,wBAAAA,qBAAqB,CAACM,IAAtB,CAA2BpC,GAA3B;AACA;AACD;;AACD,wBAAIA,GAAG,CAAC4B,MAAJ,KAAe,WAAnB,EAAgC;AAC/BG,sBAAAA,MAAM,wBAAiB/B,GAAG,CAACsC,GAArB,EAAN,GAAoCtC,GAAG,CAACE,GAAJ,CAAQU,QAAR,EAApC;AACA;AACD,mBAZD;;AAcA,sBAAIiB,kBAAkB,CAAC/B,MAAvB,EAA+B;AAC9BR,oBAAAA,UAAU,GAAGiD,QAAb,CAAsB,uBAAtB;AACA,mBAFD,MAEO;AACNjD,oBAAAA,UAAU,GAAGkD,WAAb,CAAyB,uBAAzB;AACA;;AAED,sBAAIV,qBAAqB,CAAChC,MAA1B,EAAkC;AAC3B2C,oBAAAA,SAD2B,GAEhCjB,IAAI,CAAC,+CAAD,CAF4B;AAG3BkB,oBAAAA,OAH2B,GAIhClB,IAAI,CAAC,+CAAD,CAJ4B;AAK3BmB,oBAAAA,UAL2B,GAKd9D,8CAAM,CAAC4D,SAAS,CAACvC,GAAX,CAAN,CAAsByC,UAAtB,CAClBD,OAAO,CAACxC,GADU,EAElB;AAAE0C,sBAAAA,KAAK,EAAE,IAAT;AAAeC,sBAAAA,IAAI,EAAE;AAArB,qBAFkB,CALc;;AASjC,wBAAI,CAACF,UAAL,EAAiB;AAChBG,sBAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ;AACA5D,sBAAAA,EAAE,CAAC6D,IAAH,CACEC,QADF,CACW,cADX,EAEEC,mBAFF,CAGE,2DAHF,EAIE;AACCpC,wBAAAA,EAAE,EAAE,mBADL;AAECqC,wBAAAA,aAAa,EAAE;AAFhB,uBAJF;AASA,qBAXD,MAWO;AACNhE,sBAAAA,EAAE,CAAC6D,IAAH,CACEC,QADF,CACW,cADX,EAEEG,YAFF,CAEe,mBAFf;AAGA;AACD;;AAED,sBAAIpB,MAAM,CAACqB,IAAP,CAAYtB,MAAZ,EAAoBjC,MAAxB,EAAgC;AAC/BR,oBAAAA,UAAU,GAAGgE,GAAb,CAAiBvB,MAAjB;AACA;;AApEF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAjOqB;;AAAA,wBAiONR,mBAjOM;AAAA;AAAA;AAAA;;AACrB;AACAjC,MAAAA,UAAU,GAAGiE,MAAb,khGAFqB,CA8DrB;;AACA,UAAM9B,sBAAsB,GAAG;AAC9B,oCAA4B;AAC3Ba,UAAAA,GAAG,EAAE,cADsB;AAE3BrC,UAAAA,IAAI,EAAE,UAFqB;AAG3BE,UAAAA,GAAG,EAAE,0BAHsB;AAI3ByB,UAAAA,MAAM,EAAE,gBAAC4B,OAAD,EAAa;AACpB,gBAAIA,OAAJ,EAAa;AACZlE,cAAAA,UAAU,GAAGiD,QAAb,CAAsB,uBAAtB;AACAtD,cAAAA,MAAM,CAACE,EAAP,CAAU6D,IAAV,CACEC,QADF,CACW,cADX,EAEEQ,YAFF,CAGE,MAHF,EAIE,gCAJF,EAKE;AACCN,gBAAAA,aAAa,EAAE,KADhB;AAECrC,gBAAAA,EAAE,EAAE;AAFL,eALF;AAUA;AACA;;AACD7B,YAAAA,MAAM,CAACE,EAAP,CAAU6D,IAAV,CACEC,QADF,CACW,cADX,EAEEG,YAFF,CAEe,uBAFf;AAGA9D,YAAAA,UAAU,GAAGkD,WAAb,CAAyB,uBAAzB;AACA;AAvB0B,SADE;AA0B9B,oCAA4B;AAC3BF,UAAAA,GAAG,EAAE,WADsB;AAE3BrC,UAAAA,IAAI,EAAE,QAFqB;AAG3BE,UAAAA,GAAG,EAAE,0BAHsB;AAI3ByB,UAAAA,MAAM,EAAE,gBAAC1B,GAAD,EAAS;AAChB,gBAAIA,GAAG,IAAIA,GAAG,CAACU,QAAJ,GAAed,MAA1B,EAAkC;AACjCR,cAAAA,UAAU,GAAGiD,QAAb,CAAsB,eAAtB;AACAtD,cAAAA,MAAM,CAACE,EAAP,CAAU6D,IAAV,CACEC,QADF,CACW,cADX,EAEEQ,YAFF,CAGE,MAHF,EAIE,8CAJF,EAKE;AACCN,gBAAAA,aAAa,EAAE,KADhB;AAECrC,gBAAAA,EAAE,EAAE;AAFL,eALF;AAUA;AACA;;AACD7B,YAAAA,MAAM,CAACE,EAAP,CAAU6D,IAAV,CACEC,QADF,CACW,cADX,EAEEG,YAFF,CAEe,eAFf;AAGA9D,YAAAA,UAAU,GAAGkD,WAAb,CAAyB,eAAzB;AACA;AAvB0B,SA1BE;AAmD9B,yDAAiD;AAChDF,UAAAA,GAAG,EAAE,kBAD2C;AAEhDrC,UAAAA,IAAI,EAAE,QAF0C;AAGhDE,UAAAA,GAAG,EAAE,6DAH2C;AAIhDyB,UAAAA,MAAM,EAAE,WAJwC;AAKhDO,UAAAA,qBAAqB,EAAE,IALyB;AAMhDE,UAAAA,oBAAoB,EAAE;AAN0B,SAnDnB;AA2D9B,yDAAiD;AAChDC,UAAAA,GAAG,EAAE,aAD2C;AAEhDrC,UAAAA,IAAI,EAAE,QAF0C;AAGhDE,UAAAA,GAAG,EAAE,6DAH2C;AAIhDyB,UAAAA,MAAM,EAAE,WAJwC;AAKhDS,UAAAA,oBAAoB,EAAE;AAL0B,SA3DnB;AAkE9B,yDAAiD;AAChDC,UAAAA,GAAG,EAAE,qBAD2C;AAEhDrC,UAAAA,IAAI,EAAE,IAF0C;AAGhDE,UAAAA,GAAG,EAAE,6DAH2C;AAIhDyB,UAAAA,MAAM,EAAE;AAJwC,SAlEnB;AAwE9B,yDAAiD;AAChDU,UAAAA,GAAG,EAAE,sBAD2C;AAEhDrC,UAAAA,IAAI,EAAE,OAF0C;AAGhDE,UAAAA,GAAG,EAAE,6DAH2C;AAIhDyB,UAAAA,MAAM,EAAE;AAJwC,SAxEnB;AA8E9B,yDAAiD;AAChDU,UAAAA,GAAG,EAAE,kBAD2C;AAEhDrC,UAAAA,IAAI,EAAE,MAF0C;AAGhDE,UAAAA,GAAG,EAAE,6DAH2C;AAIhDyB,UAAAA,MAAM,EAAE,WAJwC;AAKhDO,UAAAA,qBAAqB,EAAE;AALyB,SA9EnB;AAqF9B,yDAAiD;AAChDG,UAAAA,GAAG,EAAE,iBAD2C;AAEhDrC,UAAAA,IAAI,EAAE,QAF0C;AAGhDE,UAAAA,GAAG,EAAE,6DAH2C;AAIhDyB,UAAAA,MAAM,EAAE;AAJwC,SArFnB;AA2F9B,yDAAiD;AAChDU,UAAAA,GAAG,EAAE,qBAD2C;AAEhDrC,UAAAA,IAAI,EAAE,QAF0C;AAGhDE,UAAAA,GAAG,EAAE,6DAH2C;AAIhDyB,UAAAA,MAAM,EAAE;AAJwC,SA3FnB;AAiG9B,yDAAiD;AAChDU,UAAAA,GAAG,EAAE,mBAD2C;AAEhDrC,UAAAA,IAAI,EAAE,QAF0C;AAGhDE,UAAAA,GAAG,EAAE,6DAH2C;AAIhDyB,UAAAA,MAAM,EAAE;AAJwC,SAjGnB;AAuG9B,yDAAiD;AAChDU,UAAAA,GAAG,EAAE,SAD2C;AAEhDrC,UAAAA,IAAI,EAAE,KAF0C;AAGhDE,UAAAA,GAAG,EAAE,6DAH2C;AAIhDyB,UAAAA,MAAM,EAAE;AAJwC;AAvGnB,OAA/B;AAyOA/B,MAAAA,SAAS,CAAC6D,EAAV,kBACWzE,MAAM,CAAC0E,YADlB,oBACwC1E,MAAM,CAAC0E,YAD/C,GAEC3B,MAAM,CAACC,MAAP,CAAcR,sBAAd,EACEmC,GADF,CACM,UAAC5D,GAAD;AAAA,eAASA,GAAG,CAACG,GAAb;AAAA,OADN,EAEE0D,IAFF,CAEO,GAFP,CAFD,EAKCjF,gDAAQ,CAAC2C,mBAAD,EAAsB,GAAtB,EAA2B;AAAEuC,QAAAA,QAAQ,EAAE;AAAZ,OAA3B,CALT;AAOAvC,MAAAA,mBAAmB;AACnBvC,MAAAA,CAAC,CAACC,MAAD,CAAD,CAAUyE,EAAV,CAAa,MAAb,EAAqBnC,mBAArB;AACA;AACD;;AAED,MAAItC,MAAM,CAAC8E,kBAAX,EAA+B;AAC9B9E,IAAAA,MAAM,CAAC8E,kBAAP,CAA0B7C,IAA1B,CAA+B7B,WAA/B;AACA,GAFD,MAEO;AACNL,IAAAA,CAAC,CAACK,WAAD,CAAD;AACA;AACD,CA1UD,EA0UGV,wDAAA,EA1UH,EA0UwBM,MAAM,CAACgF,IA1U/B;;;;;;;;;;;;;ACTA;AACA;;AAEA,CAAC,YAAM;AAAA;;AACN;AACA,MAAI,aAAChF,MAAD,kDAAC,QAAQE,EAAT,uCAAC,WAAYC,MAAb,CAAJ,EAAyB;AACxB;AACA,GAJK,CAMN;;;AACA,MAAM2C,MAAM,GAAGvC,QAAQ,CAAC0E,aAAT,CAAuB,OAAvB,CAAf;AACAnC,EAAAA,MAAM,CAACoC,SAAP,GAAmB,4CAAnB;AACA3E,EAAAA,QAAQ,CAACC,IAAT,CAAc2E,WAAd,CAA0BrC,MAA1B;AACA,MAAIsC,QAAQ,GAAG,IAAf;AACA,iBAA8BlF,EAAE,CAAC6D,IAAjC;AAAA,MAAQsB,MAAR,YAAQA,MAAR;AAAA,MAAgBC,SAAhB,YAAgBA,SAAhB;AACA,MAAMC,aAAa,GAAGD,SAAS,CAAC,YAAM;AACrC,QAAI,CAACD,MAAM,CAAC,aAAD,CAAN,CAAsBG,uBAAtB,EAAL,EAAsD;AACrD;AACA;;AACDJ,IAAAA,QAAQ,GAAGC,MAAM,CAAC,aAAD,CAAN,CAAsBI,sBAAtB,CAA6C,QAA7C,CAAX;;AACA,QAAIL,QAAQ,KAAKnF,SAAb,IAA0BmF,QAAQ,KAAK,IAA3C,EAAiD;AAChD;AACA;;AACD,QAAMM,aAAa,GAAGC,KAAK,CAACC,IAAN,CACrBrF,QAAQ,CAACsF,gBAAT,CACC,+CADD,CADqB,EAIpBlF,IAJoB,CAIf,UAACmF,EAAD;AAAA,aAAQA,EAAE,CAACC,SAAH,KAAiB,8BAAzB;AAAA,KAJe,CAAtB;;AAKA,QAAI,CAACL,aAAL,EAAoB;AACnB;AACA;;AACDH,IAAAA,aAAa;AACbG,IAAAA,aAAa,CAACM,KAAd,CAAoBC,OAApB,GAA8B,MAA9B;;AACA,QAAIb,QAAJ,EAAc;AACblF,MAAAA,EAAE,CAAC6D,IAAH,CAAQC,QAAR,CAAiB,aAAjB,EAAgCkC,QAAhC,CAAyC;AAAEC,QAAAA,MAAM,EAAE;AAAV,OAAzC;AACAjG,MAAAA,EAAE,CAAC6D,IAAH,CAAQC,QAAR,CAAiB,aAAjB,EAAgCoC,QAAhC;AACA;AACD,GAtB8B,CAA/B;AAuBA,CAnCD;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA,CAAC,YAAM;AAAA;;AACN;AACA,MAAI,aAACpG,MAAD,kDAAC,QAAQE,EAAT,uCAAC,WAAYC,MAAb,CAAJ,EAAyB;AACxB;AACA;;AAED,MAAQkG,cAAR,GAA2BnG,EAAE,CAACoG,OAA9B,CAAQD,cAAR;AACA,MAAQE,oBAAR,GAAiCrG,EAAE,CAACgG,QAApC,CAAQK,oBAAR;AACA,MAAQC,WAAR,GAAwBtG,EAAE,CAACuG,UAA3B,CAAQD,WAAR;AACA,iBAAmCtG,EAAE,CAAC6D,IAAtC;AAAA,MAAQ2C,SAAR,YAAQA,SAAR;AAAA,MAAmBC,WAAnB,YAAmBA,WAAnB;AACA,MAAQC,WAAR,GAAwB1G,EAAE,CAAC2G,OAA3B,CAAQD,WAAR;;AAEA,MAAME,wBAAwB,GAAG,SAA3BA,wBAA2B,GAAM;AACtC,qBAAqBJ,SAAS,CAAC,UAACrB,MAAD,EAAY;AAC1C,aAAO;AAAE0B,QAAAA,QAAQ,EAAE1B,MAAM,CAAC,aAAD,CAAN,CAAsB2B,kBAAtB;AAAZ,OAAP;AACA,KAF6B,CAA9B;AAAA,QAAQD,QAAR,cAAQA,QAAR;;AAGA,QAAIA,QAAQ,KAAK,MAAjB,EAAyB;AACxB,wBAAoBL,SAAS,CAAC,UAACrB,MAAD,EAAY;AACzC,eAAO;AACN4B,UAAAA,OAAO,EACN5B,MAAM,CAAC,aAAD,CAAN,CAAsBI,sBAAtB,CAA6C,KAA7C;AAFK,SAAP;AAIA,OAL4B,EAK1B,EAL0B,CAA7B;AAAA,UAAQwB,OAAR,eAAQA,OAAR;;AAMA,yBAAqBN,WAAW,CAAC,aAAD,EAAgB,CAC/CM,OAAO,CAAC,iBAAD,CADwC,CAAhB,CAAhC;AAAA,UAAQf,QAAR,gBAAQA,QAAR;;AAGA,UAAMgB,QAAQ,GAAGN,WAAW,CAC3B1G,EAAE,CAACiH,OAAH,CAAWC,WAAX,CAAuB,UAACnG,GAAD,EAAS;AAC/B;AACA,YAAMoG,KAAK,GAAG9G,QAAQ,CAAC+G,cAAT,CACb,yBADa,CAAd;;AAGA,YAAID,KAAJ,EAAW;AACVA,UAAAA,KAAK,CAACE,KAAN,GAActG,GAAd;AACA;;AACDiF,QAAAA,QAAQ,CAAC;AAAEhF,UAAAA,GAAG,EAAE;AAAE,+BAAmBD;AAArB;AAAP,SAAD,CAAR;AACAf,QAAAA,EAAE,CAAC6D,IAAH,CAAQC,QAAR,CAAiB,aAAjB,EAAgCoC,QAAhC;AACA,OAVD,EAUG,GAVH,CAD2B,EAY3B,CAACa,OAAO,CAAC,iBAAD,CAAR,CAZ2B,CAA5B;AAeA,aACC,kEAAC,oBAAD,QACC,kEAAC,WAAD;AACC,aAAK,EAAC,0BADP;AAEC,YAAI,EAAC,0HAFN;AAGC,aAAK,EAAEA,OAAO,CAAC,iBAAD,CAHf;AAIC,gBAAQ,EAAEC;AAJX,QADD,CADD;AAUA,KAnCD,MAmCO;AACN,aAAO,IAAP;AACA;AACD,GA1CD;;AA4CAb,EAAAA,cAAc,CAAC,uBAAD,EAA0B;AACvCmB,IAAAA,MAAM,EAAEV;AAD+B,GAA1B,CAAd;AAGA,CA3DD;;;;;;;;;;;;;;;;;;;;;;;AEHA;;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;ACAA;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,KAAK;AACL;AACA;;;;;;;;;;;;;;;;;;AClCA,OAAO,qCAAqC,eAAe,uDAAuD,mBAAmB,4EAA4E,mBAAmB,yDAAyD,eAAe,wCAAwC,eAAe,OAAO,uDAAuD,eAAe,OAAO,uCAAuC,gBAAgB,IAAI,mBAAmB,qBAAqB,0BAA0B,eAAe,gHAAgH,OAAO,gDAAgD,eAAe,4BAA4B,wBAAwB,sEAAsE,OAAO,0EAA0E,eAAe,OAAO,iDAAiD,eAAe,OAAO,uCAAuC,eAAe,qBAAqB,oEAAoE,GAAG,UAAU,eAAe,OAAO,kGAAkG,YAAY,8gBAA8gB,qBAAqB,gBAAgB,6BAA6B,4HAA4H,6BAA6B,4IAA4I,WAAW,qBAAqB,2BAA2B,0CAA0C,4IAA4I,OAAO,qBAAqB,2BAA2B,kBAAkB,aAAa,sIAAsI,EAAE,YAAY,8BAA8B,6CAA6C,2BAA2B,gDAAgD,OAAO,qBAAqB,6CAA6C,mCAAmC,SAAS,gDAAgD,EAAE,YAAY,qBAAqB,6CAA6C,mCAAmC,kBAAkB,OAAO,iDAAiD,EAAE,gDAAgD,EAAE,YAAY,SAAS,iBAAiB,YAAY,WAAW,KAAK,iBAAiB,uBAAuB,oBAAoB,eAAe,uGAAuG,eAAe,eAAe,iBAAiB,WAAW,OAAO,wCAAwC,eAAe,wCAAwC,iBAAiB,WAAW,OAAO,wCAAwC,cAAc,cAAc,4CAA4C,iBAAiB,sCAAsC,0BAA0B,mCAAmC,yBAAyB,+BAA+B,uBAAuB,gCAAgC,wBAAwB,8BAA8B,wFAAwF,gBAAgB,8BAA8B,oBAAoB,oCAAoC,gHAAgH,cAAc,8BAA8B,uBAAuB,oCAAoC,uHAAuH,cAAc,8BAA8B,uBAAuB,uCAAuC,MAAM,+BAA+B,UAAU,gDAAgD,EAAE,MAAM,kCAAkC,4CAA4C,oCAAoC,6CAA6C,kCAAkC,0BAA0B,iCAAiC,4CAA4C,gCAAgC,6CAA6C,gCAAgC,iDAAiD,+BAA+B,4BAA4B,kCAAkC,mBAAmB,MAAM,6BAA6B,mBAAmB,4BAA4B,sBAAsB,SAAS,iCAAiC,mCAAmC,GAAG,iBAAiB,iCAAiC,oBAAoB,sBAAsB,mCAAmC,EAAE,cAAc,cAAc,4DAA4D,GAA0E;;;;;;;;;;;;;;;ACA3uL,kBAAkB,YAAY,qDAAqD,eAAe,8CAA8C,6BAAe,oCAAS,GAAG,iCAAiC,+FAA+F,UAAU,kCAAkC,uBAAuB,8CAA8C,4JAA4J,sCAAsC,+CAA+C,+IAA+I;;;;;;;UCA5xB;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA,eAAe,4BAA4B;WAC3C,eAAe;WACf,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA,8CAA8C;;;;;WCA9C;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;;;;;;;;;ACNA","sources":["webpack://wp-cmls-base/./src/js/backend/editor/acf-title.js","webpack://wp-cmls-base/./src/js/backend/editor/index.js","webpack://wp-cmls-base/./src/js/backend/editor/post-author.js","webpack://wp-cmls-base/./src/js/backend/index.js","webpack://wp-cmls-base/./src/backend.scss?4bc5","webpack://wp-cmls-base/external window \"jQuery\"","webpack://wp-cmls-base/external window \"lodash\"","webpack://wp-cmls-base/external window \"regeneratorRuntime\"","webpack://wp-cmls-base/external window [\"wp\",\"element\"]","webpack://wp-cmls-base/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://wp-cmls-base/./node_modules/colord/index.mjs","webpack://wp-cmls-base/./node_modules/colord/plugins/a11y.mjs","webpack://wp-cmls-base/webpack/bootstrap","webpack://wp-cmls-base/webpack/runtime/compat get default export","webpack://wp-cmls-base/webpack/runtime/define property getters","webpack://wp-cmls-base/webpack/runtime/hasOwnProperty shorthand","webpack://wp-cmls-base/webpack/runtime/make namespace object","webpack://wp-cmls-base/./src/backend.js"],"sourcesContent":["/**\n * Dynamically represent changes to the post title in ACF options\n */\n\nimport jQuery from 'jquery';\nimport { debounce } from 'lodash';\nimport { colord, extend } from 'colord';\nimport a11yPlugin from 'colord/plugins/a11y';\n\n(function ($, window, undefined) {\n\t// Only operate in the editor\n\tif (!window?.wp?.blocks) {\n\t\treturn;\n\t}\n\n\textend([a11yPlugin]);\n\n\tfunction setupEditor() {\n\t\tfunction getContext(BOTH) {\n\t\t\treturn $(window.document.body).add(\n\t\t\t\t$('iframe[name=\"editor-canvas\"]').contents().find('body')\n\t\t\t);\n\t\t}\n\n\t\t// Setup for our custom display options in ACF\n\t\tconst $acfGroup = $('#acf-group_5f467bc4cb553');\n\t\tif ($acfGroup.length) {\n\t\t\t// ACF display option styles\n\t\t\tgetContext().append(`\n\t\t\t\t<style id=\"cmls-acf_post_title\">\n\t\t\t\t\t.edit-post-visual-editor__post-title-wrapper {\n\t\t\t\t\t\ttransition-property: opacity;\n\t\t\t\t\t\ttransition-duration: .5s;\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\tcolor: var(--page_title-title_color);\n\t\t\t\t\t}\n\t\t\t\t\t.has-header-background .edit-post-visual-editor__post-title-wrapper {\n\t\t\t\t\t\tbackground-image: var(--page_title-background_image);\n\t\t\t\t\t\tbackground-color: var(--page_title-background_color);\n\t\t\t\t\t\tbackground-position: var(--page_title-background_position);\n\t\t\t\t\t\tbackground-repeat: var(--page_title-background_repeat);\n\t\t\t\t\t\tbackground-size: var(--page_title-background_size);\n\t\t\t\t\t\tmargin-bottom: var(--page_title-margin_below_header);\n\t\t\t\t\t\tmargin-top: 0;\n\t\t\t\t\t\tpadding-top: calc(var(--page_title-padding, 2rem) + .25em);\n\t\t\t\t\t\tpadding-bottom: calc(var(--page_title-padding, 2rem) + .25em);\n\t\t\t\t\t}\n\t\t\t\t\t\t.has-header-background .edit-post-visual-editor__post-title-wrapper .editor-post-title__input {\n\t\t\t\t\t\t\ttext-shadow: 0.05em 0.05em 0.15em rgba(0, 0, 0, var(--page_title-title_shadow_opacity));\n\t\t\t\t\t\t}\n\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper::before,\n\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper::before {\n\t\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\t\t/*background: rgba(0, 0, 0, 0.75);*/\n\t\t\t\t\t\tcolor: #fff;\n\t\t\t\t\t\tfont-size: 1em;\n\t\t\t\t\t\tline-height: 1;\n\t\t\t\t\t\t/*text-shadow: 1px 1px 1px #000;*/\n\t\t\t\t\t\tpadding: .5rem;\n\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\tposition: absolute;\n\t\t\t\t\t\tleft: 0;\n\t\t\t\t\t\ttop: 0;\n\t\t\t\t\t}\n\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper::before {\n\t\t\t\t\t\tcontent: 'ðŸ¥¸';\n\t\t\t\t\t}\n\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper::before {\n\t\t\t\t\t\tcontent: 'ðŸ¤«';\n\t\t\t\t\t}\n\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input,\n\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input {\n\t\t\t\t\t\tbackground-color: rgba(0,0,0,0.07);\n\t\t\t\t\t\tposition: relative;\n\t\t\t\t\t\topacity: 0.5;\n\t\t\t\t\t}\n\t\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:hover,\n\t\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:focus,\n\t\t\t\t\t\t.has-hidden-post-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:focus-within,\n\t\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:hover,\n\t\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:focus,\n\t\t\t\t\t\t.has-alt-title .edit-post-visual-editor__post-title-wrapper .editor-post-title__input:focus-within {\n\t\t\t\t\t\t\topacity: 1;\n\t\t\t\t\t\t}\n\t\t\t\t</style>\n\t\t\t`);\n\n\t\t\t// ACF fields to actions\n\t\t\tconst header_display_options = {\n\t\t\t\t'#acf-field_5f467c3c135f3': {\n\t\t\t\t\tkey: 'title-hidden',\n\t\t\t\t\ttype: 'checkbox',\n\t\t\t\t\tacf: '#acf-field_5f467c3c135f3',\n\t\t\t\t\taction: (checked) => {\n\t\t\t\t\t\tif (checked) {\n\t\t\t\t\t\t\tgetContext().addClass('has-hidden-post-title');\n\t\t\t\t\t\t\twindow.wp.data\n\t\t\t\t\t\t\t\t.dispatch('core/notices')\n\t\t\t\t\t\t\t\t.createNotice(\n\t\t\t\t\t\t\t\t\t'info',\n\t\t\t\t\t\t\t\t\t\"ðŸ¤« This post's title is hidden\",\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tisDismissible: false,\n\t\t\t\t\t\t\t\t\t\tid: 'has-hidden-post-title',\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\twindow.wp.data\n\t\t\t\t\t\t\t.dispatch('core/notices')\n\t\t\t\t\t\t\t.removeNotice('has-hidden-post-title');\n\t\t\t\t\t\tgetContext().removeClass('has-hidden-post-title');\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'#acf-field_5f46f4d6962ca': {\n\t\t\t\t\tkey: 'title-alt',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tacf: '#acf-field_5f46f4d6962ca',\n\t\t\t\t\taction: (val) => {\n\t\t\t\t\t\tif (val && val.toString().length) {\n\t\t\t\t\t\t\tgetContext().addClass('has-alt-title');\n\t\t\t\t\t\t\twindow.wp.data\n\t\t\t\t\t\t\t\t.dispatch('core/notices')\n\t\t\t\t\t\t\t\t.createNotice(\n\t\t\t\t\t\t\t\t\t'info',\n\t\t\t\t\t\t\t\t\t'ðŸ¥¸ This post uses an alternate display title',\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tisDismissible: false,\n\t\t\t\t\t\t\t\t\t\tid: 'has-alt-title',\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\twindow.wp.data\n\t\t\t\t\t\t\t.dispatch('core/notices')\n\t\t\t\t\t\t\t.removeNotice('has-alt-title');\n\t\t\t\t\t\tgetContext().removeClass('has-alt-title');\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\t'acf[field_6140e29b2c51a][field_6140e2cb5b633]': {\n\t\t\t\t\tkey: 'background_color',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tacf: 'input[name=\"acf[field_6140e29b2c51a][field_6140e2cb5b633]\"]',\n\t\t\t\t\taction: 'setCssVar',\n\t\t\t\t\ttriggersHasBackground: true,\n\t\t\t\t\ttriggersContextCheck: true,\n\t\t\t\t},\n\t\t\t\t'acf[field_6140e29b2c51a][field_6140e3aa5b638]': {\n\t\t\t\t\tkey: 'title_color',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tacf: 'input[name=\"acf[field_6140e29b2c51a][field_6140e3aa5b638]\"]',\n\t\t\t\t\taction: 'setCssVar',\n\t\t\t\t\ttriggersContextCheck: true,\n\t\t\t\t},\n\t\t\t\t'acf[field_6140e29b2c51a][field_6140e95fd3f2a]': {\n\t\t\t\t\tkey: 'margin_below_header',\n\t\t\t\t\ttype: 'em',\n\t\t\t\t\tacf: 'input[name=\"acf[field_6140e29b2c51a][field_6140e95fd3f2a]\"]',\n\t\t\t\t\taction: 'setCssVar',\n\t\t\t\t},\n\t\t\t\t'acf[field_6140e29b2c51a][field_6140e3d15b639]': {\n\t\t\t\t\tkey: 'title_shadow_opacity',\n\t\t\t\t\ttype: 'float',\n\t\t\t\t\tacf: 'input[name=\"acf[field_6140e29b2c51a][field_6140e3d15b639]\"]',\n\t\t\t\t\taction: 'setCssVar',\n\t\t\t\t},\n\t\t\t\t'acf[field_6140e29b2c51a][field_6140e2ef5b634]': {\n\t\t\t\t\tkey: 'background_image',\n\t\t\t\t\ttype: 'file',\n\t\t\t\t\tacf: 'input[name=\"acf[field_6140e29b2c51a][field_6140e2ef5b634]\"]',\n\t\t\t\t\taction: 'setCssVar',\n\t\t\t\t\ttriggersHasBackground: true,\n\t\t\t\t},\n\t\t\t\t'acf[field_6140e29b2c51a][field_6140e31c5b635]': {\n\t\t\t\t\tkey: 'background_size',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tacf: 'input[name=\"acf[field_6140e29b2c51a][field_6140e31c5b635]\"]',\n\t\t\t\t\taction: 'setCssVar',\n\t\t\t\t},\n\t\t\t\t'acf[field_6140e29b2c51a][field_6140e3455b636]': {\n\t\t\t\t\tkey: 'background_position',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tacf: 'input[name=\"acf[field_6140e29b2c51a][field_6140e3455b636]\"]',\n\t\t\t\t\taction: 'setCssVar',\n\t\t\t\t},\n\t\t\t\t'acf[field_6140e29b2c51a][field_6140e38b5b637]': {\n\t\t\t\t\tkey: 'background_repeat',\n\t\t\t\t\ttype: 'string',\n\t\t\t\t\tacf: 'input[name=\"acf[field_6140e29b2c51a][field_6140e38b5b637]\"]',\n\t\t\t\t\taction: 'setCssVar',\n\t\t\t\t},\n\t\t\t\t'acf[field_6140e29b2c51a][field_62648f5f80441]': {\n\t\t\t\t\tkey: 'padding',\n\t\t\t\t\ttype: 'rem',\n\t\t\t\t\tacf: 'input[name=\"acf[field_6140e29b2c51a][field_62648f5f80441]\"]',\n\t\t\t\t\taction: 'setCssVar',\n\t\t\t\t},\n\t\t\t};\n\n\t\t\tfunction sanitizeDisplayOption(opt) {\n\t\t\t\tswitch (opt.type) {\n\t\t\t\t\tcase 'checkbox':\n\t\t\t\t\t\topt.val = $(opt.acf).is(':checked');\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'em':\n\t\t\t\t\t\topt.val = parseFloat(opt.val) + 'em';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'rem':\n\t\t\t\t\t\topt.val = parseFloat(opt.val) + 'rem';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\topt.val = $('<div>').text(opt.val).html();\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'integer':\n\t\t\t\t\tcase 'int':\n\t\t\t\t\t\topt.val = parseInt(opt.val);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'float':\n\t\t\t\t\t\topt.val = parseFloat(opt.val);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'file':\n\t\t\t\t\t\tif (\n\t\t\t\t\t\t\twp.api?.models?.Media &&\n\t\t\t\t\t\t\topt.val &&\n\t\t\t\t\t\t\topt.val.toString().length\n\t\t\t\t\t\t) {\n\t\t\t\t\t\t\tvar media = new wp.api.models.Media({\n\t\t\t\t\t\t\t\tid: opt.val,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\topt.val = media.fetch();\n\t\t\t\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\t\t\t\tmedia.fetch().then((media) => {\n\t\t\t\t\t\t\t\t\tif (\n\t\t\t\t\t\t\t\t\t\tmedia.media_details?.sizes?.full\n\t\t\t\t\t\t\t\t\t\t\t?.source_url\n\t\t\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\t\t\topt.val = `url(\"${media.media_details.sizes.full.source_url}\")`;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tresolve(opt);\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\tresolve(opt);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tasync function updateHeaderDisplay() {\n\t\t\t\tvar opts = {};\n\t\t\t\tfor (var i in header_display_options) {\n\t\t\t\t\tlet opt = header_display_options[i];\n\t\t\t\t\tlet $input = $(opt.acf);\n\t\t\t\t\topt.val = $input.val();\n\n\t\t\t\t\topt = await sanitizeDisplayOption(opt);\n\n\t\t\t\t\tif (typeof opt.action === 'function') {\n\t\t\t\t\t\topt.action(opt.val);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\topts[i] = opt;\n\t\t\t\t}\n\n\t\t\t\tconst triggersBackground = [];\n\t\t\t\tconst triggersContrastCheck = [];\n\t\t\t\tconst styles = {};\n\t\t\t\tObject.values(opts).forEach((opt) => {\n\t\t\t\t\tif (opt.val && opt.val.toString().length) {\n\t\t\t\t\t\tif (opt.triggersHasBackground) {\n\t\t\t\t\t\t\ttriggersBackground.push(opt);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (opt.triggersContextCheck) {\n\t\t\t\t\t\t\ttriggersContrastCheck.push(opt);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (opt.action === 'setCssVar') {\n\t\t\t\t\t\tstyles[`--page_title-${opt.key}`] = opt.val.toString();\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (triggersBackground.length) {\n\t\t\t\t\tgetContext().addClass('has-header-background');\n\t\t\t\t} else {\n\t\t\t\t\tgetContext().removeClass('has-header-background');\n\t\t\t\t}\n\n\t\t\t\tif (triggersContrastCheck.length) {\n\t\t\t\t\tconst textColor =\n\t\t\t\t\t\topts['acf[field_6140e29b2c51a][field_6140e3aa5b638]'];\n\t\t\t\t\tconst bgColor =\n\t\t\t\t\t\topts['acf[field_6140e29b2c51a][field_6140e2cb5b633]'];\n\t\t\t\t\tconst isReadable = colord(textColor.val).isReadable(\n\t\t\t\t\t\tbgColor.val,\n\t\t\t\t\t\t{ level: 'AA', size: 'large' }\n\t\t\t\t\t);\n\t\t\t\t\tif (!isReadable) {\n\t\t\t\t\t\tconsole.log('trigger notice');\n\t\t\t\t\t\twp.data\n\t\t\t\t\t\t\t.dispatch('core/notices')\n\t\t\t\t\t\t\t.createWarningNotice(\n\t\t\t\t\t\t\t\t\"This header's color combination may be difficult to read!\",\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tid: 'cmls-a11y-warning',\n\t\t\t\t\t\t\t\t\tisDismissible: false,\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\twp.data\n\t\t\t\t\t\t\t.dispatch('core/notices')\n\t\t\t\t\t\t\t.removeNotice('cmls-a11y-warning');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (Object.keys(styles).length) {\n\t\t\t\t\tgetContext().css(styles);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t$acfGroup.on(\n\t\t\t\t`change.${window.THEME_PREFIX} keyup.${window.THEME_PREFIX}`,\n\t\t\t\tObject.values(header_display_options)\n\t\t\t\t\t.map((opt) => opt.acf)\n\t\t\t\t\t.join(','),\n\t\t\t\tdebounce(updateHeaderDisplay, 200, { trailing: true })\n\t\t\t);\n\t\t\tupdateHeaderDisplay();\n\t\t\t$(window).on('load', updateHeaderDisplay);\n\t\t}\n\t}\n\n\tif (window._wpLoadBlockEditor) {\n\t\twindow._wpLoadBlockEditor.then(setupEditor);\n\t} else {\n\t\t$(setupEditor);\n\t}\n})(jQuery.noConflict(), window.self);\n","import './post-author.js';\nimport './acf-title.js';\n\n(() => {\n\t// Only operate in the editor\n\tif (!window?.wp?.blocks) {\n\t\treturn;\n\t}\n\n\t// Hide the sticky option, force it false\n\tconst styles = document.createElement('style');\n\tstyles.innerHTML = '#sticky-span { display: none !important; }';\n\tdocument.body.appendChild(styles);\n\tlet isSticky = null;\n\tconst { select, subscribe } = wp.data;\n\tconst waitForEditor = subscribe(() => {\n\t\tif (!select('core/editor').__unstableIsEditorReady()) {\n\t\t\treturn;\n\t\t}\n\t\tisSticky = select('core/editor').getEditedPostAttribute('sticky');\n\t\tif (isSticky === undefined || isSticky === null) {\n\t\t\treturn;\n\t\t}\n\t\tconst stickyControl = Array.from(\n\t\t\tdocument.querySelectorAll(\n\t\t\t\t'.edit-post-post-status .components-panel__row'\n\t\t\t)\n\t\t).find((el) => el.innerText === 'Stick to the top of the blog');\n\t\tif (!stickyControl) {\n\t\t\treturn;\n\t\t}\n\t\twaitForEditor();\n\t\tstickyControl.style.display = 'none';\n\t\tif (isSticky) {\n\t\t\twp.data.dispatch('core/editor').editPost({ sticky: false });\n\t\t\twp.data.dispatch('core/editor').savePost();\n\t\t}\n\t});\n})();\n","/**\n * Injects an alt display author field near the post author in gutenberg\n */\n(() => {\n\t// Only operate in the editor\n\tif (!window?.wp?.blocks) {\n\t\treturn;\n\t}\n\n\tconst { registerPlugin } = wp.plugins;\n\tconst { PluginPostStatusInfo } = wp.editPost;\n\tconst { TextControl } = wp.components;\n\tconst { useSelect, useDispatch } = wp.data;\n\tconst { useCallback } = wp.element;\n\n\tconst PluginPostStatusInfoTest = () => {\n\t\tconst { postType } = useSelect((select) => {\n\t\t\treturn { postType: select('core/editor').getCurrentPostType() };\n\t\t});\n\t\tif (postType === 'post') {\n\t\t\tconst { acfMeta } = useSelect((select) => {\n\t\t\t\treturn {\n\t\t\t\t\tacfMeta:\n\t\t\t\t\t\tselect('core/editor').getEditedPostAttribute('acf'),\n\t\t\t\t};\n\t\t\t}, []);\n\t\t\tconst { editPost } = useDispatch('core/editor', [\n\t\t\t\tacfMeta['cmls-alt_author'],\n\t\t\t]);\n\t\t\tconst onChange = useCallback(\n\t\t\t\twp.compose.useDebounce((val) => {\n\t\t\t\t\t// I think ACF's own metabox overwrites, so we'll do this there and in dispatch\n\t\t\t\t\tconst field = document.getElementById(\n\t\t\t\t\t\t'acf-field_613a67efc94aa'\n\t\t\t\t\t);\n\t\t\t\t\tif (field) {\n\t\t\t\t\t\tfield.value = val;\n\t\t\t\t\t}\n\t\t\t\t\teditPost({ acf: { 'cmls-alt_author': val } });\n\t\t\t\t\twp.data.dispatch('core/editor').savePost();\n\t\t\t\t}, 600),\n\t\t\t\t[acfMeta['cmls-alt_author']]\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<PluginPostStatusInfo>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tlabel=\"Alt. Author Display Name\"\n\t\t\t\t\t\thelp=\"Set an alternate name for the author of this post to display publicaly instead of the real author, e.g. for guest blogs.\"\n\t\t\t\t\t\tvalue={acfMeta['cmls-alt_author']}\n\t\t\t\t\t\tonChange={onChange}\n\t\t\t\t\t/>\n\t\t\t\t</PluginPostStatusInfo>\n\t\t\t);\n\t\t} else {\n\t\t\treturn null;\n\t\t}\n\t};\n\n\tregisterPlugin('post-status-info-test', {\n\t\trender: PluginPostStatusInfoTest,\n\t});\n})();\n","import './editor/index.js';\n","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"jQuery\"];","module.exports = window[\"lodash\"];","module.exports = window[\"regeneratorRuntime\"];","module.exports = window[\"wp\"][\"element\"];","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","var r={grad:.9,turn:360,rad:360/(2*Math.PI)},t=function(r){return\"string\"==typeof r?r.length>0:\"number\"==typeof r},n=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=Math.pow(10,t)),Math.round(n*r)/n+0},e=function(r,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),r>n?n:r>t?r:t},u=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},a=function(r){return{r:e(r.r,0,255),g:e(r.g,0,255),b:e(r.b,0,255),a:e(r.a)}},o=function(r){return{r:n(r.r),g:n(r.g),b:n(r.b),a:n(r.a,3)}},i=/^#([0-9a-f]{3,8})$/i,s=function(r){var t=r.toString(16);return t.length<2?\"0\"+t:t},h=function(r){var t=r.r,n=r.g,e=r.b,u=r.a,a=Math.max(t,n,e),o=a-Math.min(t,n,e),i=o?a===t?(n-e)/o:a===n?2+(e-t)/o:4+(t-n)/o:0;return{h:60*(i<0?i+6:i),s:a?o/a*100:0,v:a/255*100,a:u}},b=function(r){var t=r.h,n=r.s,e=r.v,u=r.a;t=t/360*6,n/=100,e/=100;var a=Math.floor(t),o=e*(1-n),i=e*(1-(t-a)*n),s=e*(1-(1-t+a)*n),h=a%6;return{r:255*[e,i,o,o,s,e][h],g:255*[s,e,e,i,o,o][h],b:255*[o,o,s,e,e,i][h],a:u}},g=function(r){return{h:u(r.h),s:e(r.s,0,100),l:e(r.l,0,100),a:e(r.a)}},d=function(r){return{h:n(r.h),s:n(r.s),l:n(r.l),a:n(r.a,3)}},f=function(r){return b((n=(t=r).s,{h:t.h,s:(n*=((e=t.l)<50?e:100-e)/100)>0?2*n/(e+n)*100:0,v:e+n,a:t.a}));var t,n,e},c=function(r){return{h:(t=h(r)).h,s:(u=(200-(n=t.s))*(e=t.v)/100)>0&&u<200?n*e/100/(u<=100?u:200-u)*100:0,l:u/2,a:t.a};var t,n,e,u},l=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*,\\s*([+-]?\\d*\\.?\\d+)%\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,p=/^hsla?\\(\\s*([+-]?\\d*\\.?\\d+)(deg|rad|grad|turn)?\\s+([+-]?\\d*\\.?\\d+)%\\s+([+-]?\\d*\\.?\\d+)%\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,v=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*(?:,\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,m=/^rgba?\\(\\s*([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s+([+-]?\\d*\\.?\\d+)(%)?\\s*(?:\\/\\s*([+-]?\\d*\\.?\\d+)(%)?\\s*)?\\)$/i,y={string:[[function(r){var t=i.exec(r);return t?(r=t[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:4===r.length?n(parseInt(r[3]+r[3],16)/255,2):1}:6===r.length||8===r.length?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:8===r.length?n(parseInt(r.substr(6,2),16)/255,2):1}:null:null},\"hex\"],[function(r){var t=v.exec(r)||m.exec(r);return t?t[2]!==t[4]||t[4]!==t[6]?null:a({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},\"rgb\"],[function(t){var n=l.exec(t)||p.exec(t);if(!n)return null;var e,u,a=g({h:(e=n[1],u=n[2],void 0===u&&(u=\"deg\"),Number(e)*(r[u]||1)),s:Number(n[3]),l:Number(n[4]),a:void 0===n[5]?1:Number(n[5])/(n[6]?100:1)});return f(a)},\"hsl\"]],object:[[function(r){var n=r.r,e=r.g,u=r.b,o=r.a,i=void 0===o?1:o;return t(n)&&t(e)&&t(u)?a({r:Number(n),g:Number(e),b:Number(u),a:Number(i)}):null},\"rgb\"],[function(r){var n=r.h,e=r.s,u=r.l,a=r.a,o=void 0===a?1:a;if(!t(n)||!t(e)||!t(u))return null;var i=g({h:Number(n),s:Number(e),l:Number(u),a:Number(o)});return f(i)},\"hsl\"],[function(r){var n=r.h,a=r.s,o=r.v,i=r.a,s=void 0===i?1:i;if(!t(n)||!t(a)||!t(o))return null;var h=function(r){return{h:u(r.h),s:e(r.s,0,100),v:e(r.v,0,100),a:e(r.a)}}({h:Number(n),s:Number(a),v:Number(o),a:Number(s)});return b(h)},\"hsv\"]]},N=function(r,t){for(var n=0;n<t.length;n++){var e=t[n][0](r);if(e)return[e,t[n][1]]}return[null,void 0]},x=function(r){return\"string\"==typeof r?N(r.trim(),y.string):\"object\"==typeof r&&null!==r?N(r,y.object):[null,void 0]},I=function(r){return x(r)[1]},M=function(r,t){var n=c(r);return{h:n.h,s:e(n.s+100*t,0,100),l:n.l,a:n.a}},H=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},$=function(r,t){var n=c(r);return{h:n.h,s:n.s,l:e(n.l+100*t,0,100),a:n.a}},j=function(){function r(r){this.parsed=x(r)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return null!==this.parsed},r.prototype.brightness=function(){return n(H(this.rgba),2)},r.prototype.isDark=function(){return H(this.rgba)<.5},r.prototype.isLight=function(){return H(this.rgba)>=.5},r.prototype.toHex=function(){return r=o(this.rgba),t=r.r,e=r.g,u=r.b,i=(a=r.a)<1?s(n(255*a)):\"\",\"#\"+s(t)+s(e)+s(u)+i;var r,t,e,u,a,i},r.prototype.toRgb=function(){return o(this.rgba)},r.prototype.toRgbString=function(){return r=o(this.rgba),t=r.r,n=r.g,e=r.b,(u=r.a)<1?\"rgba(\"+t+\", \"+n+\", \"+e+\", \"+u+\")\":\"rgb(\"+t+\", \"+n+\", \"+e+\")\";var r,t,n,e,u},r.prototype.toHsl=function(){return d(c(this.rgba))},r.prototype.toHslString=function(){return r=d(c(this.rgba)),t=r.h,n=r.s,e=r.l,(u=r.a)<1?\"hsla(\"+t+\", \"+n+\"%, \"+e+\"%, \"+u+\")\":\"hsl(\"+t+\", \"+n+\"%, \"+e+\"%)\";var r,t,n,e,u},r.prototype.toHsv=function(){return r=h(this.rgba),{h:n(r.h),s:n(r.s),v:n(r.v),a:n(r.a,3)};var r},r.prototype.invert=function(){return w({r:255-(r=this.rgba).r,g:255-r.g,b:255-r.b,a:r.a});var r},r.prototype.saturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,r))},r.prototype.desaturate=function(r){return void 0===r&&(r=.1),w(M(this.rgba,-r))},r.prototype.grayscale=function(){return w(M(this.rgba,-1))},r.prototype.lighten=function(r){return void 0===r&&(r=.1),w($(this.rgba,r))},r.prototype.darken=function(r){return void 0===r&&(r=.1),w($(this.rgba,-r))},r.prototype.rotate=function(r){return void 0===r&&(r=15),this.hue(this.hue()+r)},r.prototype.alpha=function(r){return\"number\"==typeof r?w({r:(t=this.rgba).r,g:t.g,b:t.b,a:r}):n(this.rgba.a,3);var t},r.prototype.hue=function(r){var t=c(this.rgba);return\"number\"==typeof r?w({h:r,s:t.s,l:t.l,a:t.a}):n(t.h)},r.prototype.isEqual=function(r){return this.toHex()===w(r).toHex()},r}(),w=function(r){return r instanceof j?r:new j(r)},S=[],k=function(r){r.forEach(function(r){S.indexOf(r)<0&&(r(j,y),S.push(r))})},E=function(){return new j({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()})};export{j as Colord,w as colord,k as extend,I as getFormat,E as random};\n","var o=function(o){var t=o/255;return t<.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},t=function(t){return.2126*o(t.r)+.7152*o(t.g)+.0722*o(t.b)};export default function(o){o.prototype.luminance=function(){return o=t(this.rgba),void 0===(r=2)&&(r=0),void 0===n&&(n=Math.pow(10,r)),Math.round(n*o)/n+0;var o,r,n},o.prototype.contrast=function(r){void 0===r&&(r=\"#FFF\");var n,a,i,e,v,u,d,c=r instanceof o?r:new o(r);return e=this.rgba,v=c.toRgb(),u=t(e),d=t(v),n=u>d?(u+.05)/(d+.05):(d+.05)/(u+.05),void 0===(a=2)&&(a=0),void 0===i&&(i=Math.pow(10,a)),Math.floor(i*n)/i+0},o.prototype.isReadable=function(o,t){return void 0===o&&(o=\"#FFF\"),void 0===t&&(t={}),this.contrast(o)>=(e=void 0===(i=(r=t).size)?\"normal\":i,\"AAA\"===(a=void 0===(n=r.level)?\"AA\":n)&&\"normal\"===e?7:\"AA\"===a&&\"large\"===e?3:4.5);var r,n,a,i,e}}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import './backend.scss';\nimport './js/backend/index.js';\n"],"names":["jQuery","debounce","colord","extend","a11yPlugin","$","window","undefined","wp","blocks","setupEditor","getContext","BOTH","document","body","add","contents","find","$acfGroup","length","sanitizeDisplayOption","opt","type","val","acf","is","parseFloat","text","html","parseInt","api","models","Media","toString","media","id","fetch","Promise","resolve","then","media_details","sizes","full","source_url","updateHeaderDisplay","opts","header_display_options","i","$input","action","triggersBackground","triggersContrastCheck","styles","Object","values","forEach","triggersHasBackground","push","triggersContextCheck","key","addClass","removeClass","textColor","bgColor","isReadable","level","size","console","log","data","dispatch","createWarningNotice","isDismissible","removeNotice","keys","css","append","checked","createNotice","on","THEME_PREFIX","map","join","trailing","_wpLoadBlockEditor","noConflict","self","createElement","innerHTML","appendChild","isSticky","select","subscribe","waitForEditor","__unstableIsEditorReady","getEditedPostAttribute","stickyControl","Array","from","querySelectorAll","el","innerText","style","display","editPost","sticky","savePost","registerPlugin","plugins","PluginPostStatusInfo","TextControl","components","useSelect","useDispatch","useCallback","element","PluginPostStatusInfoTest","postType","getCurrentPostType","acfMeta","onChange","compose","useDebounce","field","getElementById","value","render"],"sourceRoot":""}